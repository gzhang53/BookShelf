{"ast":null,"code":"var _jsxFileName = \"/Users/Jimmy/Desktop/react_project/nd0191-c1-myreads/starter/src/BookSearch.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport * as BooksAPI from \"./BooksAPI.js\";\nimport * as Book from \"./Book.js\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookSearch = ({\n  books,\n  onUpdateBook\n}) => {\n  _s();\n\n  const [resBooks, setResBooks] = useState([]);\n  const [query, setQuery] = useState(\"\");\n\n  const updateQuery = query => {\n    setQuery(query);\n  };\n\n  useEffect(() => {\n    const timeOut = setTimeout(() => {\n      const fetch = async () => {\n        const res = await BooksAPI.search(String(query));\n        res.error !== 'empty query';\n        setResBooks(res);\n      };\n\n      query !== '' ? fetch() : setResBooks();\n    }, 500);\n    return () => clearTimeout(timeOut);\n  });\n\n  const compareBooks = (resBooks, books) => {\n    const map = new Map();\n    books.map(book => map.set(book.id, book));\n    resBooks.map(book => {\n      if (map.has(book.id)) {\n        book.shelf = map(book.id).shelf;\n      } else {\n        book.shelf = 'none';\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-books\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-bar\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-input-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by title, author, or ISBN\",\n          value: query,\n          onChange: e => updateQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-results\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"books-grid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-result\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        classNanme: \"books-grid\",\n        children: resBooks.length != 0 ? resBooks.map(book => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Book, {\n            bookData: book,\n            onBookUpdate: onUpdateBook\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No Books found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookSearch, \"8dtwe9l7zygT8gUJt9KWPHdYhvU=\");\n\n_c = BookSearch;\nexport default BookSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookSearch\");","map":{"version":3,"sources":["/Users/Jimmy/Desktop/react_project/nd0191-c1-myreads/starter/src/BookSearch.js"],"names":["useEffect","useState","BooksAPI","Book","Link","BookSearch","books","onUpdateBook","resBooks","setResBooks","query","setQuery","updateQuery","timeOut","setTimeout","fetch","res","search","String","error","clearTimeout","compareBooks","map","Map","book","set","id","has","shelf","e","target","value","length"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport * as BooksAPI from \"./BooksAPI.js\";\nimport * as Book from \"./Book.js\";\nimport { Link } from \"react-router-dom\";\nconst BookSearch = ({books, onUpdateBook}) => {\n    \n\n    const [resBooks, setResBooks] = useState([])\n\n    const [query, setQuery] = useState(\"\")\n\n    \n    const updateQuery = (query) => {\n        setQuery(query);\n        \n      };\n\n   \n      useEffect(() => {\n        const timeOut = setTimeout(() => {\n          const fetch = async () => {\n            const res = await BooksAPI.search(String(query));\n            res.error !== 'empty query'\n            setResBooks(res);\n          };\n    \n          query !== '' ? fetch() : setResBooks();\n        }, 500);\n        return () => clearTimeout(timeOut);\n      });\n\n    const compareBooks = (resBooks,books) =>{\n        \n        const map = new Map();\n\n        books.map((book)=>map.set(book.id, book));\n\n        resBooks.map((book)=>{\n            if (map.has(book.id)){\n                book.shelf = map(book.id).shelf\n            }\n            else{\n                book.shelf = 'none'\n            }\n        })\n\n        \n       \n    };\n\n    \n    return(\n    \n    <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n            <Link\n            to=\"/\"\n            >\n            Close\n            </Link>\n            <div className=\"search-books-input-wrapper\">\n            <input\n                type=\"text\"\n                placeholder=\"Search by title, author, or ISBN\"\n                value = {query}\n                onChange={(e)=>updateQuery(e.target.value)}\n          \n            />\n            </div>\n        </div>\n        <div className=\"search-books-results\">\n            <ol className=\"books-grid\"></ol>\n        </div>\n\n        <div className=\"search-books-result\">\n            <ol classNanme=\"books-grid\">\n            {   resBooks.length!=0 ? (\n                resBooks.map((book) => (\n            <li key={book.id}>\n              <Book\n                key={book.id}\n                bookData={book}\n                onBookUpdate={onUpdateBook}\n              ></Book>\n            </li>\n          ))\n        ) : (\n          <div>\n            <p>No Books found</p>\n          </div>\n        )}\n                \n                       \n            </ol>\n        </div>\n    </div>\n    );\n    };\n\nexport default BookSearch;"]},"metadata":{},"sourceType":"module"}